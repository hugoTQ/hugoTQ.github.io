1. 需求来源

   当前模板中，用codec=0表示禁用音/视频。即video的codec=0表示纯音频输出，audio的codec=0表示纯视频输出。

   当前设计不合理，优化方案：模板增加禁用音/视频标志。

2. 具体设计

   2.1 模板修改

``` json
{
    "template_name": "xxx",
    "video": {
        "discard": true/false,	// 新增，缺省值为false
        "codec":1,
        ...
    },
    "audio": {
        "discard": true/false, // 新增，缺省值为false
        "codec":1,
        ...
    },
    "common": {
        ...
    }
}
```
- 模板新增video/audio下discard标志位。video.discard为true，audio.discard为false表示只输出音频，反之只输出视频。同时为true不合法。同时为false表示输出音视频。

- discard缺省为false。

- discard为false时，codec为0则不合法。discard为true时，不校验参数。

  ​	

  2.2 console界面

  ​	界面不需要修改

  2.3 mpc

  ​	console创建模板时，勾选禁用音/视频则下发对应discard标志。

  2.4 ctm（0.5天）

  - 增加video.discard，audio.discard，缺省为false
  - 所有codenil判断改为discard判断
  - 新增模板discard与其余参数合法性校验
  - 更新模板discard与其余参数合法性校验
  - 对cte接口，切转合增加video.discard，audio.discard

  2.5 cte（0.5天）

  -  video.discard，audio.discard与模板valid转化

  2.6 现网升级兼容（1天）

   	需要修改已有纯音频和纯视频模板，增加discard=true。

3. 测试
   1. 创建模板
      1. discard与codec不同的组合
   2. 更新模板
      1. discard为true，codec为0时，修改discard为false报错
   3. 创建任务
      1. 一入一出
      2. 一入多出
   4. 模拟现网升级