# C语言定位踩内存问题

## 什么情况会导致踩内存

C语言由于可以直接操作内存，给我们的编程带来了便利，同时也带来了内存写越界之类的问题，常常造成我们的系统crash。下面总结了我在工作中碰到的导致内存越界的各种场景，以供分析此类问题时作个参考。

1. 直接写越界，包括1）栈空间变量写越界覆盖掉函数返回地址，导致函数返回时crash。2）全局变量写越界，导致覆盖掉符号表中排在这个全局变量后面的全局变量的值。
2. 未初始化指针变量的值写操作。
3. 指针释放了未置空，后续又被视为仍有效而进行写操作。
4. 局部变量在生存期外被写，如1）一个线程写了另一个线程的局部变量。2）函数返回的局部变量被写。
5. 数组没有初始化，接着调用strncpy只拷贝了覆盖掉部分空间，剩余空间可能是一个随机值，之后继续拿来使用。



## 替换malloc

### 打印调用信息